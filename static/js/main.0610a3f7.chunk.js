(this.webpackJsonpfuckfd=this.webpackJsonpfuckfd||[]).push([[0],{10:function(e,t,r){e.exports=r(17)},15:function(e,t,r){},16:function(e,t,r){},17:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),i=r(9),o=r.n(i),c=(r(15),r(3)),s=(r(16),r(2)),l=r(0),f=r(7),u=r(6);function d(e){return new Set(Object(s.a)(e))}function v(e,t){return new Set([].concat(Object(s.a)(e),Object(s.a)(t)))}function y(e,t){return new Set(Object(s.a)(e).filter((function(e){return t.has(e)})))}function h(e,t){return new Set(Object(s.a)(e).filter((function(e){return!t.has(e)})))}function p(e,t){var r,a=Object(l.a)(e);try{for(a.s();!(r=a.n()).done;){var n=r.value;if(!t.has(n))return!1}}catch(i){a.e(i)}finally{a.f()}return!0}var m=function(){function e(t,r){Object(f.a)(this,e),this.from=t,this.to=r}return Object(u.a)(e,[{key:"toString",value:function(){return Array.from(this.from).join("")+"->"+Array.from(this.to).join("")}},{key:"isTrivial",get:function(){return p(this.to,this.from)}}],[{key:"parse",value:function(t){var r=t.split("->",2),a=Object(c.a)(r,2),n=a[0],i=a[1];return new e(new Set(n.trim()),new Set(i.trim()))}}]),e}();function b(e){var t,r=[],a=Object(l.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;r.push(Object(s.a)(n))}}catch(i){a.e(i)}finally{a.f()}return r}var j=function(){function e(t){Object(f.a)(this,e),this.properties=void 0,this.fds=void 0,this.fds=new Set;var r,a=Object(l.a)(t);try{for(a.s();!(r=a.n()).done;){var n,i=r.value,o=Object(l.a)(i.to);try{for(o.s();!(n=o.n()).done;){var c=n.value;this.fds.add(new m(i.from,new Set([c])))}}catch(y){o.e(y)}finally{o.f()}}}catch(y){a.e(y)}finally{a.f()}this.properties=new Set;var s,u=Object(l.a)(t);try{for(u.s();!(s=u.n()).done;){var d=s.value;this.properties=v(this.properties,d.from),this.properties=v(this.properties,d.to)}}catch(y){u.e(y)}finally{u.f()}}return Object(u.a)(e,null,[{key:"parse",value:function(t){var r,a=t.split(","),n=new e(new Set(a.filter((function(e){return e.includes("->")})).map(m.parse))),i=a.filter((function(e){return!e.includes("->")})),o=Object(l.a)(i);try{for(o.s();!(r=o.n()).done;){var c,s=r.value,f=Object(l.a)(s);try{for(f.s();!(c=f.n()).done;){var u=c.value;n.addProperty(u)}}catch(d){f.e(d)}finally{f.f()}}}catch(d){o.e(d)}finally{o.f()}return n}}]),Object(u.a)(e,[{key:"addProperty",value:function(e){this.properties.add(e)}},{key:"addFD",value:function(e){var t,r=Object(l.a)(e.to);try{for(r.s();!(t=r.n()).done;){var a=t.value;this.fds.add(new m(e.from,new Set(a)))}}catch(n){r.e(n)}finally{r.f()}}},{key:"propertyClosure",value:function(e){for(var t=new Set(Object(s.a)(e)),r=1;;){var a,n=Object(l.a)(this.fds);try{for(n.s();!(a=n.n()).done;){var i,o=a.value,c=!0,f=Object(l.a)(o.from);try{for(f.s();!(i=f.n()).done;){var u=i.value;if(!t.has(u)){c=!1;break}}}catch(h){f.e(h)}finally{f.f()}if(c){var d,v=Object(l.a)(o.to);try{for(v.s();!(d=v.n()).done;){var y=d.value;t.add(y)}}catch(h){v.e(h)}finally{v.f()}}}}catch(h){n.e(h)}finally{n.f()}if(t.size===r)break;r=t.size}return t}},{key:"canDecide",value:function(e,t){return p(t,this.propertyClosure(e))}},{key:"toString",value:function(){return Array.from(this.fds).join(",")}},{key:"candidateKeys",get:function(){var e,t=new Set,r=new Set,a=Object(l.a)(this.fds);try{for(a.s();!(e=a.n()).done;){var n=e.value;t=v(t,n.to),r=v(r,n.from)}}catch(p){a.e(p)}finally{a.f()}var i=h(this.properties,t),o=h(t,r),c=h(h(this.properties,i),o),s=new Set;if(this.propertyClosure(i).size===this.properties.size)s.add(i);else{var f,u=Object(l.a)(c);try{for(u.s();!(f=u.n()).done;){var d=f.value,y=v(i,new Set([d]));this.propertyClosure(y).size===this.properties.size&&s.add(y)}}catch(p){u.e(p)}finally{u.f()}}return s}},{key:"keyAttributes",get:function(){return new Set(Array.from(this.candidateKeys).reduce((function(e,t){return v(e,t)})))}},{key:"secondNF",get:function(){var e,t=this.keyCodes,r=this.candidateKeys,a=Object(l.a)(this.properties);try{for(a.s();!(e=a.n()).done;){var n=e.value;if(!t.has(n)){var i,o=Object(l.a)(r);try{for(o.s();!(i=o.n()).done;){var c,s=i.value,f=Object(l.a)(s);try{for(f.s();!(c=f.n()).done;){var u=c.value,v=d(s);if(v.delete(u),this.canDecide(v,new Set(n)))return!1}}catch(y){f.e(y)}finally{f.f()}}}catch(y){o.e(y)}finally{o.f()}}}}catch(y){a.e(y)}finally{a.f()}return!0}},{key:"keyCodes",get:function(){var e,t=new Set,r=Object(l.a)(this.candidateKeys);try{for(r.s();!(e=r.n()).done;){t=v(t,e.value)}}catch(a){r.e(a)}finally{r.f()}return t}},{key:"thirdNF",get:function(){if(!this.secondNF)return!1;var e,t=this.candidateKeys,r=this.keyAttributes,a=Object(l.a)(this.fds);try{for(a.s();!(e=a.n()).done;){var n,i=e.value,o=!1,c=Object(l.a)(t);try{for(c.s();!(n=c.n()).done;){if(p(n.value,i.from)){o=!0;break}}}catch(d){c.e(d)}finally{c.f()}if(!o){var s,f=Object(l.a)(i.to);try{for(f.s();!(s=f.n()).done;){var u=s.value;if(!r.has(u))return!1}}catch(d){f.e(d)}finally{f.f()}}}}catch(d){a.e(d)}finally{a.f()}return!0}},{key:"BCNF",get:function(){if(!this.secondNF)return!1;var e,t=this.candidateKeys,r=Object(l.a)(this.fds);try{for(r.s();!(e=r.n()).done;){var a,n=e.value,i=!1,o=Object(l.a)(t);try{for(o.s();!(a=o.n()).done;){if(p(a.value,n.from)){i=!0;break}}}catch(c){o.e(c)}finally{o.f()}if(!i)return!1}}catch(c){r.e(c)}finally{r.f()}return!0}}],[{key:"minify",value:function(e){var t=this.eliminatePropertyProcess(e),r=this.eliminateFDProcess(t.result);return{eliminateProperty:t.process,eliminateFD:r.process,result:r.result}}},{key:"eliminatePropertyProcess",value:function(t){var r,a=[],n=t.fds,i=d(n),o=Object(l.a)(n);try{for(o.s();!(r=o.n()).done;){var c=r.value;if(c.from.size>1){i.delete(c);var s,f=d(c.from),u=Object(l.a)(c.from);try{for(u.s();!(s=u.n()).done;){var v=s.value;f.delete(v);var y=t.propertyClosure(f),h=p(c.to,y);a.push({oldFD:c,propertyEliminated:v,closureAfterEliminate:y,canEliminate:h}),h||f.add(v)}}catch(b){u.e(b)}finally{u.f()}i.add(new m(f,c.to))}}}catch(b){o.e(b)}finally{o.f()}return{process:a,result:new e(i)}}},{key:"eliminateFDProcess",value:function(t){var r,a=[],n=t.fds,i=d(n),o=Object(l.a)(n);try{for(o.s();!(r=o.n()).done;){var c=r.value;i.delete(c);var s=new e(i).propertyClosure(c.from),f=p(c.to,s);a.push({fd:c,closureAfterEliminate:s,canEliminate:f}),f||i.add(c)}}catch(u){o.e(u)}finally{o.f()}return{process:a,result:new e(i)}}},{key:"isLosslessDecompose",value:function(e,t){for(var r=!1,a={process:[]},n=Array.from(t.properties).sort(),i=Array.from(e),o=[],c=0;c<i.length;++c){var s,f=i[c],u=[],d=Object(l.a)(n);try{for(d.s();!(s=d.n()).done;){var v=s.value;f.properties.has(v)?u.push("A"):u.push(c+1)}}catch($){d.e($)}finally{d.f()}o.push(u)}for(var y=b(o),h=!1;!h;){h=!0;var p,m=Object(l.a)(t.fds);try{for(m.s();!(p=m.n()).done;){for(var j=p.value,O=Array.from(j.to)[0],k=Array.from(j.from).map((function(e){return n.indexOf(e)})),w=[0],S=0;S<i.length-1;++S){w=[S];for(var E=S+1;E<i.length;++E){var g,A=!0,F=Object(l.a)(k);try{for(F.s();!(g=F.n()).done;){var C=g.value;if(o[S][C]!==o[E][C]){A=!1;break}}}catch($){F.e($)}finally{F.f()}A&&w.push(E)}if(w.length>=2)break}if(1!==w.length){var D,N=1/0,x=Object(l.a)(w);try{for(x.s();!(D=x.n()).done;){var z=o[D.value][n.indexOf(O)];if("A"===z){N="A";break}N=Math.min(N,z)}}catch($){x.e($)}finally{x.f()}var P,K=Object(l.a)(w);try{for(K.s();!(P=K.n()).done;){var B=P.value;o[B][n.indexOf(O)]!==N&&(h=!1,o[B][n.indexOf(O)]=N)}}catch($){K.e($)}finally{K.f()}}a.process.push({useFD:j,resultMatrix:b(o)});var M,J=Object(l.a)(o);try{for(J.s();!(M=J.n()).done;){var L,W=M.value,I=!0,T=Object(l.a)(W);try{for(T.s();!(L=T.n()).done;){if("A"!==L.value){I=!1;break}}}catch($){T.e($)}finally{T.f()}if(I){h=!0,r=!0;break}}}catch($){J.e($)}finally{J.f()}}}catch($){m.e($)}finally{m.f()}}return{process:a,result:r,initialMatrix:y}}},{key:"preserveFDDecompose",value:function(e,t){var r,a=Object(l.a)(t.fds);try{for(a.s();!(r=a.n()).done;){var n=r.value,i=d(n.from),o=void 0;do{o=!1;var c,s=Object(l.a)(e);try{for(s.s();!(c=s.n()).done;){var f=c.value,u=v(i,y(t.propertyClosure(y(i,f.properties)),f.properties));u.size!==i.size&&(i=u,o=!0)}}catch(h){s.e(h)}finally{s.f()}}while(o);if(!p(n.to,i))return{result:!1,failOnFd:n}}}catch(h){a.e(h)}finally{a.f()}return{result:!0}}}]),e}();var O=function(){var e=Object(a.useState)(new j(new Set)),t=Object(c.a)(e,2),r=t[0],i=t[1],o=Object(a.useState)(""),s=Object(c.a)(o,2),l=s[0],f=s[1],u=Object(a.useState)(""),d=Object(c.a)(u,2),v=d[0],y=d[1],h=Object(a.useState)(""),p=Object(c.a)(h,2),m=p[0],b=p[1],O=Object(a.useState)(new Set),k=Object(c.a)(O,2),w=k[0],S=k[1];return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("input",{value:l,onChange:function(e){return f(e.target.value)}}),n.a.createElement("button",{onClick:function(){i(j.parse(l.split("-").join("->")))}},"\u786e\u5b9a"),n.a.createElement("div",null,"\u5019\u9009\u952e\uff1a",Array.from(r.candidateKeys).map((function(e){return Array.from(e).join("")})).join(",")),n.a.createElement("div",null,"\u4e3b\u5c5e\u6027\uff1a",Array.from(r.keyAttributes).join(",")),n.a.createElement("div",null,n.a.createElement("input",{value:v,onChange:function(e){return y(e.target.value)}}),"+ = {"+Array.from(r.propertyClosure(new Set(v.split("")))).join("")+"}"),n.a.createElement("div",null,"F+=",j.minify(r).result.toString()),"2NF:",n.a.createElement("input",{type:"checkbox",name:"2nf",checked:r.secondNF,disabled:!0}),"3NF:",n.a.createElement("input",{type:"checkbox",name:"3nf",checked:r.thirdNF,disabled:!0}),"BCNF:",n.a.createElement("input",{type:"checkbox",name:"bcnf",checked:r.BCNF,disabled:!0}),n.a.createElement("div",null,n.a.createElement("input",{value:m,onChange:function(e){return b(e.target.value)}}),n.a.createElement("button",{onClick:function(){S(new Set(m.split(",").map(j.parse)))}},"\u786e\u5b9a"),n.a.createElement("div",null,"\u65e0\u635f:",n.a.createElement("input",{type:"checkbox",name:"lossless",checked:j.isLosslessDecompose(w,r).result,disabled:!0})),n.a.createElement("div",null,"\u4fdd\u6301\u51fd\u6570\u4f9d\u8d56:",n.a.createElement("input",{type:"checkbox",name:"keepfd",checked:j.preserveFDDecompose(w,r).result,disabled:!0})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.0610a3f7.chunk.js.map